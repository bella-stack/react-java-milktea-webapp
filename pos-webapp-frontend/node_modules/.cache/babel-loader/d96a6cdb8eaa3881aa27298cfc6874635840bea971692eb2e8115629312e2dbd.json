{"ast":null,"code":"import _regeneratorRuntime from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import config from'./config';import EmployeeProductCard from'./EmployeeProductCard';import{CartContext}from'./CartContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductCategory=function ProductCategory(){var _useState=useState('All'),_useState2=_slicedToArray(_useState,2),selectedCategory=_useState2[0],setSelectedCategory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),drinks=_useState4[0],setDrinks=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedDrink=_useState6[0],setSelectedDrink=_useState6[1];var handleProductCardClick=function handleProductCardClick(drink){setSelectedDrink(drink);};var categorizeDrink=function categorizeDrink(name){var lastWord=name.trim().split(\" \").pop().toLowerCase();// Get the last word and convert to lowercase\nif(lastWord.includes(\"milk\")){return\"Milk\";}else if(lastWord.includes(\"tea\")){return\"Tea\";}else if(lastWord.includes(\"yogurt\")){return\"Yogurt\";}else{return\"Other\";}};useEffect(function(){var fetchDrinks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,categorizedDrinks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/product\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;categorizedDrinks=data.map(function(drink){return _objectSpread(_objectSpread({},drink),{},{category:categorizeDrink(drink.name)// Categorize each drink\n});});setDrinks(categorizedDrinks);// Set the fetched and categorized drinks into state\n_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"There was an error fetching the data\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchDrinks(){return _ref.apply(this,arguments);};}();fetchDrinks();},[]);var filterDrinksByCategory=function filterDrinksByCategory(category){if(category==='All'){return drinks;}return drinks.filter(function(drink){return drink.category===category;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 my-4 flex font-bold space-x-4 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('All');},className:selectedCategory==='All'?'bg-tiger-gray font-bold text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"ALL\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Milk');},className:selectedCategory==='Milk'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"MILK\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Yogurt');},className:selectedCategory==='Yogurt'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"YOGURT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Tea');},className:selectedCategory==='Tea'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"TEA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Other');},className:selectedCategory==='Tea'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"OTHER\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 w-4/5 px-5 pb-10\",children:filterDrinksByCategory(selectedCategory).map(function(drink,index){return/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden p-4\",children:/*#__PURE__*/_jsx(EmployeeProductCard,{drink:drink,onClick:handleProductCardClick,isSelected:selectedDrink&&selectedDrink.id===drink.id},index)});})})})]});};export default ProductCategory;","map":{"version":3,"names":["React","useState","useEffect","useContext","config","EmployeeProductCard","CartContext","jsx","_jsx","jsxs","_jsxs","ProductCategory","_useState","_useState2","_slicedToArray","selectedCategory","setSelectedCategory","_useState3","_useState4","drinks","setDrinks","_useState5","_useState6","selectedDrink","setSelectedDrink","handleProductCardClick","drink","categorizeDrink","name","lastWord","trim","split","pop","toLowerCase","includes","fetchDrinks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","categorizedDrinks","wrap","_callee$","_context","prev","next","fetch","concat","REACT_APP_BACKEND_URL","sent","json","map","_objectSpread","category","t0","console","error","stop","apply","arguments","filterDrinksByCategory","filter","className","children","onClick","index","isSelected","id"],"sources":["/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/src/ProductCategory.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport config from './config';\nimport EmployeeProductCard from './EmployeeProductCard';\nimport { CartContext } from './CartContext';\n\nconst ProductCategory = () => {\n\n    const [selectedCategory, setSelectedCategory] = useState('All');\n\n    const [drinks, setDrinks] = useState([]);\n\n    const [selectedDrink, setSelectedDrink] = useState(null);\n\n    const handleProductCardClick = (drink) => {\n        setSelectedDrink(drink);\n    };\n\n    const categorizeDrink = (name) => {\n        const lastWord = name.trim().split(\" \").pop().toLowerCase(); // Get the last word and convert to lowercase\n        if (lastWord.includes(\"milk\")) {\n          return \"Milk\";\n        } else if (lastWord.includes(\"tea\")) {\n          return \"Tea\";\n        } else if (lastWord.includes(\"yogurt\")) {\n          return \"Yogurt\";\n        } else {\n          return \"Other\";\n        }\n      };\n    \n      useEffect(() => {\n        const fetchDrinks = async () => {\n          try {\n            const response = await fetch(`${config.REACT_APP_BACKEND_URL}/api/product`);\n            const data = await response.json();\n            const categorizedDrinks = data.map(drink => ({\n              ...drink,\n              category: categorizeDrink(drink.name) // Categorize each drink\n            }));\n            setDrinks(categorizedDrinks); // Set the fetched and categorized drinks into state\n          } catch (error) {\n            console.error(\"There was an error fetching the data\", error);\n          }\n        };\n      \n        fetchDrinks();\n      }, []);   \n    \n      const filterDrinksByCategory = (category) => {\n        if (category === 'All') {\n          return drinks;\n        }\n        return drinks.filter((drink) => drink.category === category);\n      };\n\n    return (\n        <div className=\"flex flex-col mb-10\">\n            <div className=\"sticky top-0 my-4 flex font-bold space-x-4 justify-center\">\n                <button onClick={() => setSelectedCategory('All')} className={selectedCategory === 'All' ? 'bg-tiger-gray font-bold text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n                ALL\n                </button>\n                <button onClick={() => setSelectedCategory('Milk')} className={selectedCategory === 'Milk' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n                MILK\n                </button>\n                <button onClick={() => setSelectedCategory('Yogurt')} className={selectedCategory === 'Yogurt' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n                YOGURT\n                </button>\n                <button onClick={() => setSelectedCategory('Tea')} className={selectedCategory === 'Tea' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n                TEA\n                </button>\n                <button onClick={() => setSelectedCategory('Other')} className={selectedCategory === 'Tea' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n                OTHER\n                </button>\n            </div>\n\n            <div className=\"flex justify-center\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 w-4/5 px-5 pb-10\">\n                    {filterDrinksByCategory(selectedCategory).map((drink, index) => (\n                        <div className=\"overflow-hidden p-4\">\n                            <EmployeeProductCard \n                                key={index} \n                                drink={drink} \n                                onClick={handleProductCardClick}\n                                isSelected={selectedDrink && selectedDrink.id === drink.id}\n                            />\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n        </div>\n    );\n};\n\nexport default ProductCategory;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}