{"ast":null,"code":"import _regeneratorRuntime from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import config from'../config';import MenuDrinkCard from'./MenuDrinkCard';import LeftNavBar from'./LeftNavBar';import'./Menu.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Menu=function Menu(_ref){var isHighContrast=_ref.isHighContrast;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),drinks=_useState2[0],setDrinks=_useState2[1];var categorizeDrink=function categorizeDrink(name){var lastWord=name.trim().split(\" \").pop().toLowerCase();// Get the last word and convert to lowercase\nif(lastWord.includes(\"milk\")){return\"Milk Tea\";}else if(lastWord.includes(\"tea\")){return\"Tea\";}else if(lastWord.includes(\"yogurt\")){return\"Yogurt\";}else{return\"Other Drinks\";}};useEffect(function(){var fetchDrinks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,categorizedDrinks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/product\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;categorizedDrinks=data.map(function(drink){return _objectSpread(_objectSpread({},drink),{},{category:categorizeDrink(drink.name)// Categorize each drink\n});});setDrinks(categorizedDrinks);// Set the fetched and categorized drinks into state\n_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"There was an error fetching the data\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchDrinks(){return _ref2.apply(this,arguments);};}();fetchDrinks();},[]);var filterDrinksByCategory=function filterDrinksByCategory(category){if(category==='All'){return drinks;}return drinks.filter(function(drink){return drink.category===category;});};var DrinkSection=function DrinkSection(_ref3){var title=_ref3.title,category=_ref3.category,drinks=_ref3.drinks;return/*#__PURE__*/_jsxs(\"section\",{id:category,children:[/*#__PURE__*/_jsx(\"h1\",{children:title}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 p-5 w-full aspect-w-1\",children:drinks.map(function(drink,index){return/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden\",children:/*#__PURE__*/_jsx(MenuDrinkCard,{drink:drink})},index);})})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(LeftNavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"Menu\",children:['Milk Tea','Tea','Yogurt','Other Drinks'].map(function(category,index){return/*#__PURE__*/_jsx(DrinkSection,{title:category.toUpperCase(),category:category,drinks:filterDrinksByCategory(category)},index);})})]});};export default Menu;","map":{"version":3,"names":["React","useState","useEffect","config","MenuDrinkCard","LeftNavBar","jsx","_jsx","jsxs","_jsxs","Menu","_ref","isHighContrast","_useState","_useState2","_slicedToArray","drinks","setDrinks","categorizeDrink","name","lastWord","trim","split","pop","toLowerCase","includes","fetchDrinks","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","categorizedDrinks","wrap","_callee$","_context","prev","next","fetch","concat","REACT_APP_BACKEND_URL","sent","json","map","drink","_objectSpread","category","t0","console","error","stop","apply","arguments","filterDrinksByCategory","filter","DrinkSection","_ref3","title","id","children","className","index","toUpperCase"],"sources":["/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/src/MenuComponents/Menu.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport config from '../config';\nimport MenuDrinkCard from './MenuDrinkCard';\nimport LeftNavBar from './LeftNavBar';\n\nimport './Menu.css';\n\nconst Menu = ({ isHighContrast }) => {\n\n    const [drinks, setDrinks] = useState([]);\n\n    const categorizeDrink = (name) => {\n        const lastWord = name.trim().split(\" \").pop().toLowerCase(); // Get the last word and convert to lowercase\n        if (lastWord.includes(\"milk\")) {\n          return \"Milk Tea\";\n        } else if (lastWord.includes(\"tea\")) {\n          return \"Tea\";\n        } else if (lastWord.includes(\"yogurt\")) {\n          return \"Yogurt\";\n        } else {\n          return \"Other Drinks\";\n        }\n      };\n    \n      useEffect(() => {\n        const fetchDrinks = async () => {\n          try {\n            const response = await fetch(`${config.REACT_APP_BACKEND_URL}/api/product`);\n            const data = await response.json();\n            const categorizedDrinks = data.map(drink => ({\n              ...drink,\n              category: categorizeDrink(drink.name) // Categorize each drink\n            }));\n            setDrinks(categorizedDrinks); // Set the fetched and categorized drinks into state\n          } catch (error) {\n            console.error(\"There was an error fetching the data\", error);\n          }\n        };\n      \n        fetchDrinks();\n      }, []);\n\n      const filterDrinksByCategory = (category) => {\n        if (category === 'All') {\n          return drinks;\n        }\n        return drinks.filter((drink) => drink.category === category);\n      };\n\n      const DrinkSection = ({ title, category, drinks }) => (\n        <section id={category}>\n          <h1>{title}</h1>\n          <hr />\n          <div className=\"flex justify-left\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 p-5 w-full aspect-w-1\">\n              {drinks.map((drink, index) => (\n                <div className=\"overflow-hidden\" key={index}>\n                  <MenuDrinkCard drink={drink} />\n                </div>\n              ))}\n            </div>\n          </div>\n        </section>\n      );\n\n    return (\n        <div className='flex'>\n            <LeftNavBar/>\n            <div className='Menu'>\n                {['Milk Tea', 'Tea', 'Yogurt', 'Other Drinks'].map((category, index) => (\n                <DrinkSection\n                    key={index}\n                    title={category.toUpperCase()}\n                    category={category}\n                    drinks={filterDrinksByCategory(category)}\n                />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Menu;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}