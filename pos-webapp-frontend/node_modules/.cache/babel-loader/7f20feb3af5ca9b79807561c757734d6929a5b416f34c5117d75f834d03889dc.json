{"ast":null,"code":"import _objectSpread from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{useParams,Link}from'react-router-dom';import config from'./config';import{CartContext}from'./CartContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Customization=function Customization(){var _useContext=useContext(CartContext),addToCart=_useContext.addToCart;var _useParams=useParams(),drinkId=_useParams.drinkId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),drink=_useState2[0],setDrink=_useState2[1];var _useState3=useState('1'),_useState4=_slicedToArray(_useState3,2),iceLevel=_useState4[0],setIceLevel=_useState4[1];var _useState5=useState('1'),_useState6=_slicedToArray(_useState5,2),sweetnessLevel=_useState6[0],setSweetnessLevel=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isSubmitted=_useState8[0],setIsSubmitted=_useState8[1];var handleSubmit=function handleSubmit(){console.log(\"Submitting customization\");alert(\"Drink added!\");var customizedDrink=_objectSpread(_objectSpread({},drink),{},{iceLevel:iceLevel,sweetnessLevel:sweetnessLevel});addToCart(customizedDrink);setIsSubmitted(true);};useEffect(function(){if(isSubmitted){var timeoutId=setTimeout(function(){setIsSubmitted(false);},500);// (.5 seconds in this add if needed to change)\nreturn function(){return clearTimeout(timeoutId);};}},[isSubmitted]);useEffect(function(){var fetchDrink=function fetchDrink(){fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/product/\").concat(drinkId)).then(function(response){return response.json();}).then(function(data){setDrink(data);}).catch(function(error){console.error(\"There was an error fetching the data\",error);});};fetchDrink();},[drinkId]);if(!drink){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 w-4/5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl flex justify-start font-bold p-5 rounded-xl shadow-md\",children:[/*#__PURE__*/_jsx(Link,{to:\"/order\",className:\"LINK\",children:'< Return to Order'}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-300 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center pt-4 w-full\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold\",children:drink.name}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg text-gray-600\",children:[\"$\",drink.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-md font-medium text-gray-700 mb-2\",children:\"Ice Level\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"block w-full border border-gray-300 p-2 rounded\",value:iceLevel,onChange:function onChange(e){return setIceLevel(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"No Ice\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0.25\",children:\"Less Ice\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Regular Ice\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1.5\",children:\"Extra Ice\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-md font-medium text-gray-700 mb-2\",children:\"Sweetness Level\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"block w-full border border-gray-300 p-2 rounded\",value:sweetnessLevel,onChange:function onChange(e){return setSweetnessLevel(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"0% (Unsweetened)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0.25\",children:\"25% (Less Sweet)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0.5\",children:\"50% (Half)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0.75\",children:\"75% (Less Sugar)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"100% (Regular)\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"bg-black text-white font-bold py-2 px-4 rounded-full\",children:\"Submit\"}),isSubmitted&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-5 rounded-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold mb-2\",children:\"Submitted to cart\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your order has been added to the cart.\"})]})})]})});};export default Customization;","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","Link","config","CartContext","jsx","_jsx","jsxs","_jsxs","Customization","_useContext","addToCart","_useParams","drinkId","_useState","_useState2","_slicedToArray","drink","setDrink","_useState3","_useState4","iceLevel","setIceLevel","_useState5","_useState6","sweetnessLevel","setSweetnessLevel","_useState7","_useState8","isSubmitted","setIsSubmitted","handleSubmit","console","log","alert","customizedDrink","_objectSpread","timeoutId","setTimeout","clearTimeout","fetchDrink","fetch","concat","REACT_APP_BACKEND_URL","then","response","json","data","catch","error","children","className","to","name","price","value","onChange","e","target","onClick"],"sources":["/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/src/Customization.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport config from './config'; \nimport { CartContext } from './CartContext';\n\nconst Customization = () => {\n\n    const { addToCart } = useContext(CartContext);\n\n    const { drinkId } = useParams();\n    const [drink, setDrink] = useState(null);\n    const [iceLevel, setIceLevel] = useState('1');\n    const [sweetnessLevel, setSweetnessLevel] = useState('1');\n    const [isSubmitted, setIsSubmitted] = useState(false);\n\n    const handleSubmit = () => {\n        console.log(\"Submitting customization\")\n        alert(\"Drink added!\");\n        const customizedDrink = {\n        ...drink,\n        iceLevel,\n        sweetnessLevel,\n        };\n        addToCart(customizedDrink);\n        setIsSubmitted(true);\n    };\n    \n    useEffect(() => {\n        if (isSubmitted) {\n            const timeoutId = setTimeout(() => {\n                setIsSubmitted(false);\n            }, 500); // (.5 seconds in this add if needed to change)\n\n            return () => clearTimeout(timeoutId);\n        }\n    }, [isSubmitted]);\n\n    useEffect(() => {\n        const fetchDrink = () => {\n            fetch(`${config.REACT_APP_BACKEND_URL}/api/product/${drinkId}`)\n                .then(response => response.json())\n                .then(data => {\n                    setDrink(data);\n                })\n                .catch(error => {\n                    console.error(\"There was an error fetching the data\", error);\n                });\n        };\n        fetchDrink();\n    }, [drinkId]);\n\n    if (!drink) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <div className=\"flex justify-center\">             \n        <div className=\"p-5 w-4/5\">\n            <div className=\"text-xl flex justify-start font-bold p-5 rounded-xl shadow-md\">\n                <Link to=\"/order\" className='LINK'>{'< Return to Order'}</Link>\n                <div></div>\n            </div>\n            {/* <div className=\"text-xl font-bold mb-4 p-10\">Customize Your Drink</div> */}\n            <div className=\"border-b border-gray-300 mb-4\">\n                <div className=\"flex justify-center items-center pt-4 w-full\">\n                </div>\n                <h1 className=\"text-2xl font-semibold\">{drink.name}</h1>\n                <h3 className=\"text-lg text-gray-600\">${drink.price}</h3>\n            </div>\n            <div className=\"mb-4\">\n                <label className=\"block text-md font-medium text-gray-700 mb-2\">Ice Level</label>\n                <select className=\"block w-full border border-gray-300 p-2 rounded\" value={iceLevel} onChange={(e) => setIceLevel(e.target.value)}>\n                    <option value=\"0\">No Ice</option>\n                    <option value=\"0.25\">Less Ice</option>\n                    <option value=\"1\">Regular Ice</option>\n                    <option value=\"1.5\">Extra Ice</option>\n                </select>\n            </div>\n            <div className=\"mb-4\">\n                <label className=\"block text-md font-medium text-gray-700 mb-2\">Sweetness Level</label>\n                <select className=\"block w-full border border-gray-300 p-2 rounded\" value={sweetnessLevel} onChange={(e) => setSweetnessLevel(e.target.value)}>\n                    <option value=\"0\">0% (Unsweetened)</option>\n                    <option value=\"0.25\">25% (Less Sweet)</option>\n                    <option value=\"0.5\">50% (Half)</option>\n                    <option value=\"0.75\">75% (Less Sugar)</option>\n                    <option value=\"1\">100% (Regular)</option>\n                </select>\n            </div>\n                <button onClick={handleSubmit} className=\"bg-black text-white font-bold py-2 px-4 rounded-full\">Submit</button>\n                {isSubmitted && (\n                    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\n                        <div className=\"bg-white p-5 rounded-md\">\n                            <h1 className=\"text-xl font-semibold mb-2\">Submitted to cart</h1>\n                            <p>Your order has been added to the cart.</p>\n                        </div>\n                    </div>\n                )}\n            </div>\n             \n        </div>\n    );\n}\n\nexport default Customization;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}