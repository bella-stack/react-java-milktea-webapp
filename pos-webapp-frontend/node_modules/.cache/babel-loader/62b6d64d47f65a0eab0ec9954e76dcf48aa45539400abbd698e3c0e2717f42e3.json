{"ast":null,"code":"import _regeneratorRuntime from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import config from'../config';import EmployeeProductCard from'./ProductCard';import{useOrder}from'./OrderContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductCategory=function ProductCategory(_ref){var isHighContrast=_ref.isHighContrast;var _useOrder=useOrder(),orderInfo=_useOrder.orderInfo,setOrderInfo=_useOrder.setOrderInfo;var _useState=useState('All'),_useState2=_slicedToArray(_useState,2),selectedCategory=_useState2[0],setSelectedCategory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),drinks=_useState4[0],setDrinks=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedDrink=_useState6[0],setSelectedDrink=_useState6[1];var handleProductCardClick=function handleProductCardClick(drink){setSelectedDrink(drink);setOrderInfo(_objectSpread(_objectSpread({},orderInfo),{},{drinkName:drink.name,drinkPrice:drink.price}));};var categorizeDrink=function categorizeDrink(name){var lastWord=name.trim().split(' ').pop().toLowerCase();if(lastWord.includes('milk')){return'Milk';}else if(lastWord.includes('tea')){return'Tea';}else if(lastWord.includes('yogurt')){return'Yogurt';}else{return'Other';}};useEffect(function(){var fetchDrinks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,categorizedDrinks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/product\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;categorizedDrinks=data.map(function(drink){return _objectSpread(_objectSpread({},drink),{},{category:categorizeDrink(drink.name)});});setDrinks(categorizedDrinks);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error('There was an error fetching the data',_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchDrinks(){return _ref2.apply(this,arguments);};}();fetchDrinks();},[]);var filterDrinksByCategory=function filterDrinksByCategory(category){if(category==='All'){return drinks;}return drinks.filter(function(drink){return drink.category===category;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 my-4 flex font-bold space-x-4 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('All');},className:selectedCategory==='All'?'bg-tiger-gray font-bold text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"ALL\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Milk');},className:selectedCategory==='Milk'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"MILK\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Yogurt');},className:selectedCategory==='Yogurt'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"YOGURT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Tea');},className:selectedCategory==='Tea'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"TEA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Other');},className:selectedCategory==='Tea'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"OTHER\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 w-4/5 px-5 pb-20\",children:filterDrinksByCategory(selectedCategory).map(function(drink,index){return/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden p-4\",children:/*#__PURE__*/_jsx(EmployeeProductCard,{isHighContrast:isHighContrast,drink:drink,onClick:handleProductCardClick,isSelected:selectedDrink&&selectedDrink.id===drink.id})},index);})})})]});};export default ProductCategory;","map":{"version":3,"names":["React","useState","useEffect","config","EmployeeProductCard","useOrder","jsx","_jsx","jsxs","_jsxs","ProductCategory","_ref","isHighContrast","_useOrder","orderInfo","setOrderInfo","_useState","_useState2","_slicedToArray","selectedCategory","setSelectedCategory","_useState3","_useState4","drinks","setDrinks","_useState5","_useState6","selectedDrink","setSelectedDrink","handleProductCardClick","drink","_objectSpread","drinkName","name","drinkPrice","price","categorizeDrink","lastWord","trim","split","pop","toLowerCase","includes","fetchDrinks","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","categorizedDrinks","wrap","_callee$","_context","prev","next","fetch","concat","REACT_APP_BACKEND_URL","sent","json","map","category","t0","console","error","stop","apply","arguments","filterDrinksByCategory","filter","className","children","onClick","index","isSelected","id"],"sources":["/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/src/EmployeeComponents/ProductComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport config from '../config';\nimport EmployeeProductCard from './ProductCard';\nimport { useOrder } from './OrderContext';\n\nconst ProductCategory = ({ isHighContrast }) => {\n  const { orderInfo, setOrderInfo } = useOrder();\n\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [drinks, setDrinks] = useState([]);\n  const [selectedDrink, setSelectedDrink] = useState(null);\n\n  const handleProductCardClick = (drink) => {\n    setSelectedDrink(drink);\n\n    setOrderInfo({\n      ...orderInfo,\n      drinkName: drink.name,\n      drinkPrice: drink.price,\n    });\n  };\n\n  const categorizeDrink = (name) => {\n    const lastWord = name.trim().split(' ').pop().toLowerCase();\n    if (lastWord.includes('milk')) {\n      return 'Milk';\n    } else if (lastWord.includes('tea')) {\n      return 'Tea';\n    } else if (lastWord.includes('yogurt')) {\n      return 'Yogurt';\n    } else {\n      return 'Other';\n    }\n  };\n\n  useEffect(() => {\n    const fetchDrinks = async () => {\n      try {\n        const response = await fetch(`${config.REACT_APP_BACKEND_URL}/api/product`);\n        const data = await response.json();\n        const categorizedDrinks = data.map((drink) => ({\n          ...drink,\n          category: categorizeDrink(drink.name),\n        }));\n        setDrinks(categorizedDrinks);\n      } catch (error) {\n        console.error('There was an error fetching the data', error);\n      }\n    };\n\n    fetchDrinks();\n  }, []);\n\n  const filterDrinksByCategory = (category) => {\n    if (category === 'All') {\n      return drinks;\n    }\n    return drinks.filter((drink) => drink.category === category);\n  };\n\n  return (\n    <div className=\"flex flex-col mb-10\">\n      <div className=\"sticky top-0 my-4 flex font-bold space-x-4 justify-center\">\n        <button \n          onClick={() => setSelectedCategory('All')} \n          className={selectedCategory === 'All' ? 'bg-tiger-gray font-bold text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          ALL\n        </button>\n        <button \n          onClick={() => setSelectedCategory('Milk')} \n          className={selectedCategory === 'Milk' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          MILK\n        </button>\n        <button \n          onClick={() => setSelectedCategory('Yogurt')} \n          className={selectedCategory === 'Yogurt' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          YOGURT\n        </button>\n        <button \n          onClick={() => setSelectedCategory('Tea')} \n          className={selectedCategory === 'Tea' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          TEA\n        </button>\n        <button \n          onClick={() => setSelectedCategory('Other')} \n          className={selectedCategory === 'Tea' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          OTHER\n        </button>\n      </div>\n\n      <div className=\"flex justify-center\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 w-4/5 px-5 pb-20\">\n          {filterDrinksByCategory(selectedCategory).map((drink, index) => (\n            <div className=\"overflow-hidden p-4\" key={index}>\n              <EmployeeProductCard\n                isHighContrast={isHighContrast}\n                drink={drink}\n                onClick={handleProductCardClick}\n                isSelected={selectedDrink && selectedDrink.id === drink.id}\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCategory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}