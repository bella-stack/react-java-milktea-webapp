{"ast":null,"code":"import _regeneratorRuntime from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import DrinkCard from'./DrinkCard';import config from'./config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomerOrder=function CustomerOrder(){var _useState=useState('All'),_useState2=_slicedToArray(_useState,2),selectedCategory=_useState2[0],setSelectedCategory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),drinks=_useState4[0],setDrinks=_useState4[1];var categorizeDrink=function categorizeDrink(name){var lastWord=name.trim().split(\" \").pop().toLowerCase();// Get the last word and convert to lowercase\nif(lastWord.includes(\"milk\")){return\"Milk\";}else if(lastWord.includes(\"tea\")){return\"Tea\";}else if(lastWord.includes(\"yogurt\")){return\"Yogurt\";}else{return\"Other\";}};useEffect(function(){var fetchDrinks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,categorizedDrinks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/product\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;categorizedDrinks=data.map(function(drink){return _objectSpread(_objectSpread({},drink),{},{category:categorizeDrink(drink.name)// Categorize each drink\n});});setDrinks(categorizedDrinks);// Set the fetched and categorized drinks into state\n_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"There was an error fetching the data\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchDrinks(){return _ref.apply(this,arguments);};}();fetchDrinks();},[]);var filterDrinksByCategory=function filterDrinksByCategory(category){if(category==='All'){return drinks;}return drinks.filter(function(drink){return drink.category===category;});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-4\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"DRINK MENU\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-4 flex font-bold space-x-4 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('All');},className:selectedCategory==='All'?'bg-tiger-gray font-bold text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"ALL\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Milk');},className:selectedCategory==='Milk'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"MILK\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Yogurt');},className:selectedCategory==='Yogurt'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"YOGURT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedCategory('Tea');},className:selectedCategory==='Tea'?'bg-tiger-gray text-yellow-200 px-4 py-2 rounded':'bg-white shadow-md px-4 py-2 rounded',children:\"TEA\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 p-5\",children:filterDrinksByCategory(selectedCategory).map(function(drink,index){return/*#__PURE__*/_jsx(DrinkCard,{drink:drink},index);})})]});};export default CustomerOrder;","map":{"version":3,"names":["React","useState","useEffect","DrinkCard","config","jsx","_jsx","jsxs","_jsxs","CustomerOrder","_useState","_useState2","_slicedToArray","selectedCategory","setSelectedCategory","_useState3","_useState4","drinks","setDrinks","categorizeDrink","name","lastWord","trim","split","pop","toLowerCase","includes","fetchDrinks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","categorizedDrinks","wrap","_callee$","_context","prev","next","fetch","concat","REACT_APP_BACKEND_URL","sent","json","map","drink","_objectSpread","category","t0","console","error","stop","apply","arguments","filterDrinksByCategory","filter","children","className","onClick","index"],"sources":["/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/src/CustomerOrder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DrinkCard from './DrinkCard';\nimport config from './config';\n\nconst CustomerOrder = () => {\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [drinks, setDrinks] = useState([]);\n\n  const categorizeDrink = (name) => {\n    const lastWord = name.trim().split(\" \").pop().toLowerCase(); // Get the last word and convert to lowercase\n    if (lastWord.includes(\"milk\")) {\n      return \"Milk\";\n    } else if (lastWord.includes(\"tea\")) {\n      return \"Tea\";\n    } else if (lastWord.includes(\"yogurt\")) {\n      return \"Yogurt\";\n    } else {\n      return \"Other\";\n    }\n  };\n\n  useEffect(() => {\n    const fetchDrinks = async () => {\n      try {\n        const response = await fetch(`${config.REACT_APP_BACKEND_URL}/api/product`);\n        const data = await response.json();\n        const categorizedDrinks = data.map(drink => ({\n          ...drink,\n          category: categorizeDrink(drink.name) // Categorize each drink\n        }));\n        setDrinks(categorizedDrinks); // Set the fetched and categorized drinks into state\n      } catch (error) {\n        console.error(\"There was an error fetching the data\", error);\n      }\n    };\n  \n    fetchDrinks();\n  }, []);\n\n  const filterDrinksByCategory = (category) => {\n    if (category === 'All') {\n      return drinks;\n    }\n    return drinks.filter((drink) => drink.category === category);\n  };\n\n  return (\n    <div>\n      <div className=\"my-4\">\n        <h2 className=\"text-2xl font-bold\">DRINK MENU</h2>\n      </div>\n\n      <div className=\"my-4 flex font-bold space-x-4 justify-center\">\n        <button onClick={() => setSelectedCategory('All')} className={selectedCategory === 'All' ? 'bg-tiger-gray font-bold text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          ALL\n        </button>\n        <button onClick={() => setSelectedCategory('Milk')} className={selectedCategory === 'Milk' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          MILK\n        </button>\n        <button onClick={() => setSelectedCategory('Yogurt')} className={selectedCategory === 'Yogurt' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          YOGURT\n        </button>\n        <button onClick={() => setSelectedCategory('Tea')} className={selectedCategory === 'Tea' ? 'bg-tiger-gray text-yellow-200 px-4 py-2 rounded' : 'bg-white shadow-md px-4 py-2 rounded'}>\n          TEA\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-5\">\n        {filterDrinksByCategory(selectedCategory).map((drink, index) => (\n          <DrinkCard key={index} drink={drink} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CustomerOrder;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}