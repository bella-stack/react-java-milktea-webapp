{"ast":null,"code":"import _toConsumableArray from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import config from'./config';import ErrorPopup from'./ErrorPopup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ManagerMenu=function ManagerMenu(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),drinks=_useState2[0],setDrinks=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),editeddrinks=_useState6[0],setEditeddrinks=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState({name:'',price:0,items:[]}),_useState10=_slicedToArray(_useState9,2),newProduct=_useState10[0],setNewProduct=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isErrorPopupOpen=_useState12[0],setIsErrorPopupOpen=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),errorMessage=_useState14[0],setErrorMessage=_useState14[1];var handleError=function handleError(message){setErrorMessage(message);setIsErrorPopupOpen(true);};useEffect(function(){fetchDrinks();},[]);var fetchDrinks=function fetchDrinks(){setLoading(true);fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/inventory\")).then(function(response){return response.json();}).then(function(data){setItems(data);}).catch(function(error){console.error(\"There was an error fetching the data\",error);});fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/product\")).then(function(response){return response.json();}).then(function(data){setDrinks(data);var maxId=data.reduce(function(max,product){var numericPart=parseInt(product.id.replace('p_',''),10);return Math.max(max,isNaN(numericPart)?0:numericPart);},0);setNewProduct({id:\"p_\".concat(maxId+1),name:'',price:0,items:[]});setLoading(false);}).catch(function(error){console.error(\"There was an error fetching the data\",error);setLoading(false);});};var handlePriceChange=function handlePriceChange(event,id){var newPrice=parseFloat(event.target.value,10);if(!isNaN(newPrice)){setEditeddrinks(function(prevdrinks){return _objectSpread(_objectSpread({},prevdrinks),{},_defineProperty({},id,_objectSpread(_objectSpread({},prevdrinks[id]),{},{price:newPrice})));});}};var saveChanges=function saveChanges(){var updatePromises=Object.entries(editeddrinks).map(function(_ref){var _ref2=_slicedToArray(_ref,2),id=_ref2[0],data=_ref2[1];return fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/product/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});});Promise.all(updatePromises).then(function(){fetchDrinks();setEditeddrinks({});}).catch(function(error){return console.error('There was an error updating the drinks',error);});};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}var handleAddnewProduct=function handleAddnewProduct(e){e.preventDefault();// user error handling\nif(!newProduct.name||newProduct.name.trim()===''){console.error('Error: Name is required');handleError('Error: Name is required');return;}if(newProduct.price===null||newProduct.price<0){console.error('Error: Price must be a non-negative number');handleError('Error: Price must be a non-negative number');return;}fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/product\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newProduct)}).then(function(){newProduct.items.forEach(function(ingredientId){fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/productdefault/nextId\")).then(function(response){return response.text();}).then(function(nextId){console.log('nextId',nextId);var requestBody={id:nextId,product_id:newProduct.id,ingredient_id:ingredientId};console.log(\"Attempting to POST:\",requestBody);// Use nextId for the POST request\nreturn fetch(\"\".concat(config.REACT_APP_BACKEND_URL,\"/api/productdefault\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});}).then(function(res){return res.json();}).then(function(data){return console.log('Item added to product',data);}).catch(function(error){return console.error('There was an error adding the item to the product',error);});});setNewProduct({name:'',price:0});// Reset form\nconsole.log('Product added successfully');fetchDrinks();// Refresh the list\nconsole.log('Product added; refresh');}).catch(function(error){return console.error('There was an error adding the product',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center my-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-tiger-gray font-bold text-yellow-200 px-4 py-2 mb-4 rounded block mx-auto\",onClick:saveChanges,disabled:loading||Object.keys(editeddrinks).length===0,children:\"Save Changes\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto border-collapse border border-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 px-4 py-2 text-gray-600\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 px-4 py-2 text-gray-600\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 px-4 py-2 text-gray-600\",children:\"Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:drinks.map(function(drink){var _editeddrinks$drink$i,_editeddrinks$drink$i2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 px-4 py-2\",children:drink.id}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 px-4 py-2\",children:drink.name}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 px-4 py-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:(_editeddrinks$drink$i=(_editeddrinks$drink$i2=editeddrinks[drink.id])===null||_editeddrinks$drink$i2===void 0?void 0:_editeddrinks$drink$i2.price)!==null&&_editeddrinks$drink$i!==void 0?_editeddrinks$drink$i:drink.price,onChange:function onChange(event){return handlePriceChange(event,drink.id);},className:\"w-full px-2 py-1 border border-gray-300 rounded\"})})]},drink.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-lg mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-2\",children:\"ADD MENU ITEM\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddnewProduct,className:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 lg:grid-cols-3 gap-x-2 gap-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ID\",value:newProduct.id,readOnly:true,className:\"mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:newProduct.name,onChange:function onChange(e){return setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{name:e.target.value}));},className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Price\",value:newProduct.price,onChange:function onChange(e){return setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{price:e.target.value}));},className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-y-2\",children:items.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newProduct.items.includes(item.id),onChange:function onChange(e){if(e.target.checked){setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{items:[].concat(_toConsumableArray(newProduct.items),[item.id])}));}else{setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{items:newProduct.items.filter(function(id){return id!==item.id;})}));}},className:\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"checkbox-\".concat(item.id),className:\"ml-2 text-sm text-gray-900\",children:item.name})]},item.id);})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-tiger-gray font-bold mt-4 text-yellow-200 px-4 py-2 mb-4 rounded block mx-auto\",children:\"Add Product\"})]})]}),/*#__PURE__*/_jsx(ErrorPopup,{isOpen:isErrorPopupOpen,message:errorMessage,onClose:function onClose(){return setIsErrorPopupOpen(false);}})]});};export default ManagerMenu;","map":{"version":3,"names":["React","useState","useEffect","config","ErrorPopup","jsx","_jsx","jsxs","_jsxs","ManagerMenu","_useState","_useState2","_slicedToArray","drinks","setDrinks","_useState3","_useState4","items","setItems","_useState5","_useState6","editeddrinks","setEditeddrinks","_useState7","_useState8","loading","setLoading","_useState9","name","price","_useState10","newProduct","setNewProduct","_useState11","_useState12","isErrorPopupOpen","setIsErrorPopupOpen","_useState13","_useState14","errorMessage","setErrorMessage","handleError","message","fetchDrinks","fetch","concat","process","env","REACT_APP_BACKEND_URL","then","response","json","data","catch","error","console","maxId","reduce","max","product","numericPart","parseInt","id","replace","Math","isNaN","handlePriceChange","event","newPrice","parseFloat","target","value","prevdrinks","_objectSpread","_defineProperty","saveChanges","updatePromises","Object","entries","map","_ref","_ref2","method","headers","body","JSON","stringify","Promise","all","children","handleAddnewProduct","e","preventDefault","trim","forEach","ingredientId","text","nextId","log","requestBody","product_id","ingredient_id","res","className","onClick","disabled","keys","length","drink","_editeddrinks$drink$i","_editeddrinks$drink$i2","type","onChange","onSubmit","placeholder","readOnly","item","checked","includes","_toConsumableArray","filter","htmlFor","isOpen","onClose"],"sources":["/Users/wusixuan/Desktop/CSCE331/Project/project-3-902_02r/pos-webapp-frontend/src/ManagerMenu.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport config from './config';\nimport ErrorPopup from './ErrorPopup';\n\nconst ManagerMenu = () => {\n    const [drinks, setDrinks] = useState([]);\n    const [items, setItems] = useState([]);\n\n    const [editeddrinks, setEditeddrinks] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [newProduct, setNewProduct] = useState({ name: '', price: 0, items: [] });\n\n    const [isErrorPopupOpen, setIsErrorPopupOpen] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const handleError = (message) => {\n        setErrorMessage(message);\n        setIsErrorPopupOpen(true);\n    };\n\n    useEffect(() => {\n        fetchDrinks();\n    }, []);\n\n        const fetchDrinks = () => {\n            setLoading(true);\n            fetch(`${process.env.REACT_APP_BACKEND_URL}/api/inventory`)\n            .then(response => response.json())\n            .then(data => {\n                setItems(data);\n            })\n            .catch(error => {\n                console.error(\"There was an error fetching the data\", error);\n            });\n            fetch(`${config.REACT_APP_BACKEND_URL}/api/product`)\n                .then(response => response.json())\n                .then(data => {\n                    setDrinks(data);\n                    const maxId = data.reduce((max, product) => {\n                        const numericPart = parseInt(product.id.replace('p_', ''), 10);\n                        return Math.max(max, isNaN(numericPart) ? 0 : numericPart);\n                    }, 0);\n                    setNewProduct({ id: `p_${maxId + 1}`, name: '', price: 0, items: [] });\n                    setLoading(false);\n          })\n          .catch (error => {\n            console.error(\"There was an error fetching the data\", error);\n            setLoading(false);\n        });\n    };    \n\n    const handlePriceChange = (event, id) => {\n        const newPrice = parseFloat(event.target.value, 10);\n        if (!isNaN(newPrice)) {\n            setEditeddrinks(prevdrinks => ({\n                ...prevdrinks,\n                [id]: { ...prevdrinks[id], price: newPrice },\n            }));\n        }\n    };\n\n    const saveChanges = () => {\n        const updatePromises = Object.entries(editeddrinks).map(([id, data]) =>\n            fetch(`${config.REACT_APP_BACKEND_URL}/api/product/${id}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(data),\n            })\n        );\n\n        Promise.all(updatePromises)\n            .then(() => {\n                fetchDrinks();\n                setEditeddrinks({});\n            })\n            .catch(error => console.error('There was an error updating the drinks', error));\n    };\n\n    if (loading) {\n        return <div>Loading...</div>;\n    }\n\n    const handleAddnewProduct = (e) => {\n        e.preventDefault();\n\n        // user error handling\n        if (!newProduct.name || newProduct.name.trim() === '') {\n            console.error('Error: Name is required');\n            handleError('Error: Name is required');\n            return;\n        }\n        if (newProduct.price === null || newProduct.price < 0) {\n            console.error('Error: Price must be a non-negative number');\n            handleError('Error: Price must be a non-negative number');\n            return;\n        }\n        fetch(`${config.REACT_APP_BACKEND_URL}/api/product`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(newProduct),\n        })\n        .then(() => {\n            newProduct.items.forEach(ingredientId => {\n                fetch(`${config.REACT_APP_BACKEND_URL}/api/productdefault/nextId`)\n                    .then(response => response.text())\n                    .then(nextId => {\n                        console.log('nextId', nextId);\n                        const requestBody = {\n                            id: nextId,\n                            product_id: newProduct.id,\n                            ingredient_id: ingredientId\n                        };\n                        console.log(\"Attempting to POST:\", requestBody);\n\n                        // Use nextId for the POST request\n                        return fetch(`${config.REACT_APP_BACKEND_URL}/api/productdefault`, {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify(requestBody)\n                        });\n                    })\n                    .then(res => res.json())\n                    .then(data => console.log('Item added to product', data))\n                    .catch(error => console.error('There was an error adding the item to the product', error));\n            });\n            setNewProduct({ name: '', price: 0}); // Reset form\n            console.log('Product added successfully');\n            fetchDrinks(); // Refresh the list\n            console.log('Product added; refresh');\n        })\n        .catch(error => console.error('There was an error adding the product', error));\n    };\n\n  return (\n    <div className=\"flex flex-col items-center my-2\">\n    <button className=\"bg-tiger-gray font-bold text-yellow-200 px-4 py-2 mb-4 rounded block mx-auto\" onClick={saveChanges} disabled={loading || Object.keys(editeddrinks).length === 0}>\n            Save Changes\n        </button>\n        <table className=\"table-auto border-collapse border border-gray-200\">\n            <thead>\n                <tr className=\"bg-gray-100\">\n                    <th className=\"border border-gray-300 px-4 py-2 text-gray-600\">ID</th>\n                    <th className=\"border border-gray-300 px-4 py-2 text-gray-600\">Name</th>\n                    <th className=\"border border-gray-300 px-4 py-2 text-gray-600\">Price</th>\n                </tr>\n            </thead>\n            <tbody>\n                {drinks.map(drink => (\n                    <tr key={drink.id}>\n                        <td className=\"border border-gray-300 px-4 py-2\">{drink.id}</td>\n                        <td className=\"border border-gray-300 px-4 py-2\">{drink.name}</td>\n                        <td className=\"border border-gray-300 px-4 py-2\">\n                            <input\n                                type=\"number\"\n                                value={editeddrinks[drink.id]?.price ?? drink.price}\n                                onChange={(event) => handlePriceChange(event, drink.id)}\n                                className=\"w-full px-2 py-1 border border-gray-300 rounded\"\n                            />\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n        </table>\n        <div className=\"max-w-lg mx-auto p-4\">\n                <h2 className=\"text-2xl font-bold mb-2\">ADD MENU ITEM</h2>\n                <form onSubmit={handleAddnewProduct} className=\"\">\n                    <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-x-2 gap-y-4\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">ID</label>\n                        <input \n                            type=\"text\" \n                            placeholder=\"ID\" \n                            value={newProduct.id} \n                            readOnly \n                            className=\"mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                        />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Name</label>\n                        <input \n                            type=\"text\" \n                            placeholder=\"Name\" \n                            value={newProduct.name} \n                            onChange={(e) => setNewProduct({ ...newProduct, name: e.target.value })}\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                        />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Price</label>\n                        <input \n                            type=\"number\" \n                            placeholder=\"Price\" \n                            value={newProduct.price} \n                            onChange={(e) => setNewProduct({ ...newProduct, price: e.target.value })}\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                        />\n                    </div>\n                    </div>\n                    <div className=\"mt-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-y-2\">\n                        {items.map(item => (\n                            <div key={item.id} className=\"flex items-center\">\n                                <input\n                                    type=\"checkbox\"\n                                    checked={newProduct.items.includes(item.id)}\n                                    onChange={(e) => {\n                                        if (e.target.checked) {\n                                            setNewProduct({ ...newProduct, items: [...newProduct.items, item.id] });\n                                        } else {\n                                            setNewProduct({ ...newProduct, items: newProduct.items.filter(id => id !== item.id) });\n                                        }\n                                    }}\n                                    className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n                                />\n                                <label htmlFor={`checkbox-${item.id}`} className=\"ml-2 text-sm text-gray-900\">\n                                    {item.name}\n                                </label>\n                            </div>\n                        ))}\n                    </div>\n                    <button \n                        type=\"submit\" \n                        className=\"bg-tiger-gray font-bold mt-4 text-yellow-200 px-4 py-2 mb-4 rounded block mx-auto\"\n                    >\n                        Add Product\n                    </button>  \n                </form>\n            </div>\n        <ErrorPopup\n            isOpen={isErrorPopupOpen}\n            message={errorMessage}\n            onClose={() => setIsErrorPopupOpen(false)}\n        />\n    </div>\n  )\n}\n\nexport default ManagerMenu"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}